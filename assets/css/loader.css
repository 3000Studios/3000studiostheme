/*
 *   Copyright (c) 2025 NAME.
 *   All rights reserved.
 *   Unauthorized copying, modification, distribution, or use of this is prohibited without express written permission.
 */

.preloader {
  background-color: var(--dark-bg);
  color: var(--light-text);
  display: grid;
  place-items: center;
  height: 100vh;
  min-height: 13.5em;
  transition: background-color var(--trans-dur), color var(--trans-dur);
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 9999;
  animation: bg-scroll var(--speed, 0.8s) linear infinite;
}

progress {
    --color-1: oklch(0.65 0.25 263 / 1);
    --color-2: oklch(0.6 0.27 272 / 1);
    --color-3: oklch(0.55 0.3 288 / 1);
    --color-4: oklch(0.55 0.33 306 / 1);
    --speed: 2s;
    --gradient-start: var(--color-1);
    --gradient-end: var(--color-3);
    --bg: light-dark(oklch(0.92 0.02 260 / 0.75), oklch(0.26 0.02 260 / 0.75));
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: auto;
    font-size: 1.8em;
    height: 2.5em;
    border-radius: 99vw;
    border: none;
    padding: 0.2em;
    container-type: inline-size;
    background: linear-gradient( to bottom, oklch( from var(--bg) calc(l - 0.1) c h ), oklch( from var(--bg) l c h ) 66% ) border-box;
    box-shadow: inset 0 0 0 max(1px, 0.05em) oklch( from var(--bg) calc(l - 0.1) c h / 0.33 );
}

progress::-moz-progress-bar {
    width: 100%;
    border-radius: 99vw;
    border: max(1px, 0.1em) transparent solid;
    padding-inline: 0.95em;
    --color-gradient: linear-gradient( to right, var(--color-1) 5%, var(--color-2), var(--color-3) 50%, var(--color-4) );
    background: radial-gradient( 70% 2em at center 120%, oklch(0.99 0.025 260 / 100%) 0%, oklch(0.99 0.025 260 / 88%) 21%, oklch(0.99 0.025 260 / 75%) 30%, oklch(0.99 0.025 260 / 64%) 39%, oklch(0.99 0.025 260 / 52%) 46%, oklch(0.99 0.025 260 / 41%) 54%, oklch(0.99 0.025 260 / 31%) 61%, oklch(0.99 0.025 260 / 21%) 69%, oklch(0.99 0.025 260 / 12%) 79%, oklch(0.99 0.025 260 / 0%) 100% ) padding-box, var(--color-gradient) padding-box, linear-gradient( to bottom, oklch(0.95 0.01 260), oklch(0.92 0.018 260 / 80%) 33%, oklch(0.99 0.01 260 / 80%) ) padding-box, linear-gradient( 165deg, oklch(0.94 0.025 260 / 80%) 25%, oklch(0.99 0.01 260 / 80%) ) border-box;
    background-blend-mode: normal, overlay, normal, normal;
    background-size: cover, 100cqw 100%, cover, cover;
    --outer-shadow: light-dark(oklch(0.99 0.02 260 / 0.8), oklch(0.4 0.02 260 / 0.8)) 1em 0.66em 1em -0.66em, oklch(0.35 0.1 260 / 0.05) 0px max(4px, 0.3em) 0.3em 0px, oklch(0.35 0.1 260 / 0.07) 0px max(2px, 0.18em) 0.18em 0px, oklch(0.35 0.1 260 / 0.05) 0px max(1px, 0.05em) max(2px, 0.05em) 0px;
    --inner-shadow: inset 0.2em 0.2em 0.3em -0.1em oklch(0.92 0.018 260 / 80%), inset -0.2em -0.2em 0.3em -0.1em oklch(0.98 0.018 260 / 80%);
    box-shadow: var(--inner-shadow), var(--outer-shadow);
}

progress:indeterminate::-moz-progress-bar {
    --color-gradient: linear-gradient( to right, oklch( from var(--gradient-start) l c h / 0 ) 0%, oklch( from var(--gradient-start) l c h / 1 ) 11.5%, oklch( from var(--gradient-start) l c h / 1 ) 13.5%, oklch( from var(--gradient-end) l c h / 0 ), oklch( from var(--gradient-end) l c h / 1 ) 36.5%, oklch( from var(--gradient-end) l c h / 1 ) 38.5%, oklch( from var(--gradient-end) l c h / 0 ) 50%, oklch( from var(--gradient-start) l c h / 1 ) 61.5%, oklch( from var(--gradient-start) l c h / 1 ) 63.5%, oklch( from var(--gradient-start) l c h / 0 ), oklch( from var(--gradient-end) l c h / 1 ) 86.5%, oklch( from var(--gradient-end) l c h / 1 ) 88.5%, oklch( from var(--gradient-end) l c h / 0 ) 100% ) repeat;
    background-size: 200% 100%;
    background-position: center, var(--bgpos, 0%), center, center;
    animation: bg-scroll var(--speed, 0.8s) linear infinite;
}

progress::-webkit-progress-bar {
    -webkit-appearance: none;
    appearance: none;
    background: none;
}

progress::-webkit-progress-value {
    width: 100%;
    border-radius: 99vw;
    border: max(1px, 0.1em) transparent solid;
    padding-inline: 0.9em;
    --color-gradient: linear-gradient( to right, var(--color-1) 5%, var(--color-2), var(--color-3) 50%, var(--color-4) );
    background: radial-gradient( 70% 2em at center 120%, oklch(0.99 0.025 260 / 100%) 0%, oklch(0.99 0.025 260 / 88%) 21%, oklch(0.99 0.025 260 / 75%) 30%, oklch(0.99 0.025 260 / 64%) 39%, oklch(0.99 0.025 260 / 52%) 46%, oklch(0.99 0.025 260 / 41%) 54%, oklch(0.99 0.025 260 / 31%) 61%, oklch(0.99 0.025 260 / 21%) 69%, oklch(0.99 0.025 260 / 12%) 79%, oklch(0.99 0.025 260 / 0%) 100% ) padding-box, var(--color-gradient) padding-box, linear-gradient( to bottom, oklch(0.95 0.01 260), oklch(0.92 0.018 260 / 80%) 33%, oklch(0.99 0.01 260 / 80%) ) padding-box, linear-gradient( 165deg, oklch(0.94 0.025 260 / 80%) 25%, oklch(0.99 0.01 260 / 80%) ) border-box;
    background-blend-mode: normal, overlay, normal, normal;
    background-size: cover, 100cqw 100%, cover, cover;
    --outer-shadow: light-dark(oklch(0.99 0.02 260 / 0.8), oklch(0.4 0.02 260 / 0.8)) 1em 0.66em 1em -0.66em, oklch(0.35 0.1 260 / 0.05) 0px max(4px, 0.3em) 0.3em 0px, oklch(0.35 0.1 260 / 0.07) 0px max(2px, 0.18em) 0.18em 0px, oklch(0.35 0.1 260 / 0.05) 0px max(1px, 0.05em) max(2px, 0.05em) 0px;
    --inner-shadow: inset 0.2em 0.2em 0.3em -0.1em oklch(0.92 0.018 260 / 80%), inset -0.2em -0.2em 0.3em -0.1em oklch(0.98 0.018 260 / 80%);
    box-shadow: var(--inner-shadow), var(--outer-shadow);
}

progress:indeterminate::-webkit-progress-value {
    inline-size: 100%!important;
    --color-gradient: linear-gradient( to right, oklch( from var(--gradient-start) l c h / 0 ) 0%, oklch( from var(--gradient-start) l c h / 1 ) 11.5%, oklch( from var(--gradient-start) l c h / 1 ) 13.5%, oklch( from var(--gradient-end) l c h / 0 ), oklch( from var(--gradient-end) l c h / 1 ) 36.5%, oklch( from var(--gradient-end) l c h / 1 ) 38.5%, oklch( from var(--gradient-end) l c h / 0 ) 50%, oklch( from var(--gradient-start) l c h / 1 ) 61.5%, oklch( from var(--gradient-start) l c h / 1 ) 63.5%, oklch( from var(--gradient-start) l c h / 0 ), oklch( from var(--gradient-end) l c h / 1 ) 86.5%, oklch( from var(--gradient-end) l c h / 1 ) 88.5%, oklch( from var(--gradient-end) l c h / 0 ) 100% ) repeat;
    background-size: 200% 100%;
    background-position: center, var(--bgpos, 0%), center, center;
    -webkit-animation: bg-scroll var(--speed, 0.8s) linear infinite;
    animation: bg-scroll var(--speed, 0.8s) linear infinite;
}

@property --bgpos {
    syntax: "<percentage>";
    initial-value: 0%;
    inherits: true;
}

@-webkit-keyframes bg-scroll {
    0%, 99.999%, 100% {
        --bgpos: 0%;
    }
    99.99% {
        --bgpos: -100%;
    }
}

@keyframes bg-scroll {
    0%, 99.999%, 100% {
        --bgpos: 0%;
    }
    99.99% {
        --bgpos: -100%;
    }
}
